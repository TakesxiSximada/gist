# AWS IAMに期待した状態になっているかどうかをチェックするツールがほしい

ServerspecのようにAWS IAMが意図した状態になっているか検査/更新するためのツールがほしい。
考えたのは次のような仕様。

## 仕様

- AWS IAMが意図した状態になっているかをすべての権限で検査
- IAMがない場合はワーニングを出力する
  - 自動で追加するIAMのパターンを指定できる
- IAMの権限が意図していないものであればワーニングを出力する
  - 自動で権限を修正するIAMのパターンを指定できる
- 不要なIAMがある場合はワーニングを出力する
  - 自動で削除するIAMのパターンを指定できる

## 背景

- AWSのIAMの管理は複雑
- 手動で追加だの削除だのするとあっと言う間にカオス
- とはいえ手動変更禁止にしてawscliで更新+JSONをgit管理にすると試行錯誤しづらい
- そこで恒常的に使う権限についてはawscliで更新+JSONをgit管理
- 試行錯誤系は管理画面を手動操作
- プロダクションで意図しているのはgit管理されているものだからそれに違反したものはワーニング通知
- ついでに期待の状態に近づけられるようにしてchefっぽく構成しC/Iに乗るようにする
